{"version":3,"file":"index.umd.js","sources":["../../../node_modules/tslib/tslib.es6.js","../src/stakingTransaction.ts","../src/factory.ts","../src/index.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","/**\n * @packageDocumentation\n * @module harmony-staking\n */\n\n// tslint:disable: max-classes-per-file\n\nimport {\n  arrayify,\n  BN,\n  encode,\n  hexlify,\n  keccak256,\n  sign,\n  Signature,\n  splitSignature,\n  stripZeros,\n} from '@harmony-js/crypto';\nimport { Messenger, RPCMethod } from '@harmony-js/network';\nimport { defaultMessenger, TransactionBase, TxStatus } from '@harmony-js/transaction';\nimport { numberToHex, Unit } from '@harmony-js/utils';\nimport { TextEncoder } from 'text-encoding';\n\n/** @hidden */\nexport class StakingSettings {\n  public static PRECISION = 18;\n  public static MAX_DECIMAL = 1000000000000000000;\n}\n\n/** @hidden */\nexport const enum Directive {\n  DirectiveCreateValidator,\n  DirectiveEditValidator,\n  DirectiveDelegate,\n  DirectiveUndelegate,\n  DirectiveCollectRewards,\n}\n\nexport class StakingTransaction extends TransactionBase {\n  private directive: Directive;\n  private stakeMsg: CreateValidator | EditValidator | Delegate | Undelegate | CollectRewards;\n  private nonce: number | string;\n  private gasLimit: number | string;\n  private gasPrice: number | string;\n  private chainId: number;\n  private rawTransaction: string;\n  private unsignedRawTransaction: string;\n  private signature: Signature;\n  private from: string;\n\n  constructor(\n    directive: Directive,\n    stakeMsg: CreateValidator | EditValidator | Delegate | Undelegate | CollectRewards,\n    nonce: number | string,\n    gasPrice: number | string,\n    gasLimit: number | string,\n    chainID: number,\n    messenger: Messenger = defaultMessenger,\n    txStatus = TxStatus.INTIALIZED,\n  ) {\n    super(messenger, txStatus);\n\n    this.directive = directive;\n    this.stakeMsg = stakeMsg;\n    this.nonce = nonce;\n    this.gasLimit = gasLimit;\n    this.gasPrice = gasPrice;\n    this.rawTransaction = '0x';\n    this.unsignedRawTransaction = '0x';\n    this.signature = {\n      r: '',\n      s: '',\n      recoveryParam: 0,\n      v: 0,\n    };\n    this.chainId = chainID;\n    this.from = '0x';\n  }\n\n  encode(): [string, any[]] {\n    const raw: Array<string | Uint8Array | Array<string | Uint8Array>> = [];\n    // TODO: temporary hack for converting 0x00 to 0x\n    if (!this.directive) {\n      raw.push('0x');\n    } else {\n      raw.push(hexlify(this.directive));\n    }\n    raw.push(this.stakeMsg.encode());\n    if (!this.nonce) {\n      raw.push('0x');\n    } else {\n      raw.push(hexlify(this.nonce));\n    }\n    raw.push(hexlify(this.gasPrice));\n    raw.push(hexlify(this.gasLimit));\n    if (this.chainId != null && this.chainId !== 0) {\n      raw.push(hexlify(this.chainId));\n      raw.push('0x');\n      raw.push('0x');\n    }\n    return [encode(raw), raw];\n  }\n\n  rlpSign(prv: string): [Signature, string] {\n    const [unsignedRawTransaction, raw] = this.encode();\n    this.setUnsigned(unsignedRawTransaction);\n    const signature = sign(keccak256(unsignedRawTransaction), prv);\n    const signed = this.getRLPSigned(raw, signature);\n    return [signature, signed];\n  }\n\n  getRLPSigned(raw: any[], signature: Signature): string {\n    const sig = splitSignature(signature);\n    let v = 27 + (sig.recoveryParam || 0);\n    raw.pop();\n    raw.pop();\n    raw.pop();\n    v += this.chainId * 2 + 8;\n\n    raw.push(hexlify(v));\n    raw.push(stripZeros(arrayify(sig.r) || []));\n    raw.push(stripZeros(arrayify(sig.s) || []));\n\n    return encode(raw);\n  }\n\n  public async sendTransaction(): Promise<[StakingTransaction, string]> {\n    if (this.rawTransaction === 'tx' || this.rawTransaction === undefined) {\n      throw new Error('Transaction not signed');\n    }\n    if (!this.messenger) {\n      throw new Error('Messenger not found');\n    }\n\n    const res = await this.messenger.send(\n      RPCMethod.SendRawStakingTransaction,\n      this.rawTransaction,\n      this.messenger.chainType,\n      this.messenger.currentShard,\n      // 0, // Staking tx always sent to shard 0\n    );\n\n    if (res.isResult()) {\n      this.id = res.result;\n      this.emitTransactionHash(this.id);\n      this.setTxStatus(TxStatus.PENDING);\n      return [this, res.result];\n    } else if (res.isError()) {\n      this.emitConfirm(`transaction failed:${res.error.message}`);\n      this.setTxStatus(TxStatus.REJECTED);\n      return [this, `transaction failed:${res.error.message}`];\n    } else {\n      this.emitError('transaction failed');\n      throw new Error('transaction failed');\n    }\n  }\n\n  setUnsigned(unSigned: string) {\n    this.unsignedRawTransaction = unSigned;\n  }\n  setRawTransaction(rawTransaction: string) {\n    this.rawTransaction = rawTransaction;\n  }\n  setSignature(signature: Signature) {\n    this.signature = {\n      r: signature.r,\n      s: signature.s,\n      v: signature.v,\n      recoveryParam: signature.recoveryParam,\n    };\n  }\n  setNonce(nonce: number) {\n    this.nonce = nonce;\n  }\n  setFromAddress(address: string) {\n    this.from = address;\n  }\n  getUnsignedRawTransaction() {\n    return this.unsignedRawTransaction;\n  }\n  getRawTransaction() {\n    return this.rawTransaction;\n  }\n  getSignature() {\n    return this.signature;\n  }\n\n  getFromAddress() {\n    return this.from;\n  }\n  async confirm(\n    txHash: string,\n    maxAttempts: number = 20,\n    interval: number = 1000,\n    shardID: number | string = this.messenger.currentShard,\n    toShardID: number | string = 0,\n  ) {\n    const txConfirmed = await this.txConfirm(txHash, maxAttempts, interval, shardID);\n    if (shardID === toShardID) {\n      return txConfirmed;\n    }\n    if (txConfirmed.isConfirmed()) {\n      const cxConfirmed = await this.cxConfirm(txHash, maxAttempts, interval, toShardID);\n      return cxConfirmed;\n    } else {\n      return txConfirmed;\n    }\n  }\n}\n\n/** @hidden */\nexport class Description {\n  name: string;\n  identity: string;\n  website: string;\n  securityContact: string;\n  details: string;\n\n  constructor(\n    name: string,\n    identity: string,\n    website: string,\n    securityContact: string,\n    details: string,\n  ) {\n    this.name = name;\n    this.identity = identity;\n    this.website = website;\n    this.securityContact = securityContact;\n    this.details = details;\n  }\n\n  encode(): any[] {\n    const raw: Array<string | Uint8Array> = [];\n    const enc = new TextEncoder();\n    raw.push(enc.encode(this.name));\n    raw.push(enc.encode(this.identity));\n    raw.push(enc.encode(this.website));\n    raw.push(enc.encode(this.securityContact));\n    raw.push(enc.encode(this.details));\n    return raw;\n  }\n}\n\n/** @hidden */\nexport class Decimal {\n  value: BN;\n\n  constructor(value: string) {\n    if (value.length === 0) {\n      throw new Error(`decimal string is empty`);\n    }\n    let value1 = value;\n    if (value[0] === '-') {\n      throw new Error(`decimal fraction should be be between [0, 1]`);\n    }\n    if (value[0] === '+') {\n      value1 = value.substr(1);\n    }\n    if (value1.length === 0) {\n      throw new Error(`decimal string is empty`);\n    }\n    const spaced = value1.split(' ');\n    if (spaced.length > 1) {\n      throw new Error(`bad decimal string`);\n    }\n    const splitted = value1.split('.');\n    let len = 0;\n    let combinedStr = splitted[0];\n    if (splitted.length === 2) {\n      len = splitted[1].length;\n      if (len === 0 || combinedStr.length === 0) {\n        throw new Error(`bad decimal length`);\n      }\n      if (splitted[1][0] === '-') {\n        throw new Error(`bad decimal string`);\n      }\n      combinedStr += splitted[1];\n    } else if (splitted.length > 2) {\n      throw new Error(`too many periods to be a decimal string`);\n    }\n    if (len > StakingSettings.PRECISION) {\n      throw new Error(\n        `too much precision: precision should be less than ${StakingSettings.PRECISION}`,\n      );\n    }\n    const zerosToAdd = StakingSettings.PRECISION - len;\n    combinedStr += '0'.repeat(zerosToAdd);\n    combinedStr = combinedStr.replace(/^0+/, '');\n    const val = new Unit(combinedStr).asWei().toWei();\n    if (val.gt(new Unit(StakingSettings.MAX_DECIMAL.toString()).asWei().toWei())) {\n      throw new Error(`too large decimal fraction`);\n    }\n    this.value = val;\n  }\n\n  encode(): any[] {\n    const raw: Array<string | Uint8Array> = [];\n    raw.push(numberToHex(this.value));\n    return raw;\n  }\n}\n\n/** @hidden */\nexport class CommissionRate {\n  rate: Decimal;\n  maxRate: Decimal;\n  maxChangeRate: Decimal;\n  constructor(rate: Decimal, maxRate: Decimal, maxChangeRate: Decimal) {\n    this.rate = rate;\n    this.maxRate = maxRate;\n    this.maxChangeRate = maxChangeRate;\n  }\n\n  encode(): any[] {\n    const raw: Array<string | Uint8Array | Array<string | Uint8Array>> = [];\n    raw.push(this.rate.encode());\n    raw.push(this.maxRate.encode());\n    raw.push(this.maxChangeRate.encode());\n    return raw;\n  }\n}\n\nexport class CreateValidator {\n  validatorAddress: string;\n  description: Description;\n  commissionRates: CommissionRate;\n  minSelfDelegation: number;\n  maxTotalDelegation: number;\n  slotPubKeys: string[];\n  amount: number;\n  constructor(\n    validatorAddress: string,\n    description: Description,\n    commissionRates: CommissionRate,\n    minSelfDelegation: number,\n    maxTotalDelegation: number,\n    slotPubKeys: string[],\n    amount: number,\n  ) {\n    this.validatorAddress = validatorAddress;\n    this.description = description;\n    this.commissionRates = commissionRates;\n    this.minSelfDelegation = minSelfDelegation;\n    this.maxTotalDelegation = maxTotalDelegation;\n    this.slotPubKeys = slotPubKeys;\n    this.amount = amount;\n  }\n\n  encode(): any[] {\n    const raw: Array<string | Uint8Array | Array<string | Uint8Array>> = [];\n    raw.push(hexlify(TransactionBase.normalizeAddress(this.validatorAddress)));\n    raw.push(this.description.encode());\n    raw.push(this.commissionRates.encode());\n    raw.push(hexlify(this.minSelfDelegation));\n    raw.push(hexlify(this.maxTotalDelegation));\n    raw.push(this.encodeArr());\n    raw.push(hexlify(this.amount));\n    return raw;\n  }\n\n  encodeArr(): any[] {\n    const raw: Array<string | Uint8Array | Array<string | Uint8Array>> = [];\n    this.slotPubKeys.forEach((pubKey) => {\n      raw.push(pubKey);\n    });\n    return raw;\n  }\n}\n\nexport class EditValidator {\n  validatorAddress: string;\n  description: Description;\n  commissionRate: Decimal;\n  minSelfDelegation: number;\n  maxTotalDelegation: number;\n  slotKeyToRemove: string;\n  slotKeyToAdd: string;\n  constructor(\n    validatorAddress: string,\n    description: Description,\n    commissionRate: Decimal,\n    minSelfDelegation: number,\n    maxTotalDelegation: number,\n    slotKeyToRemove: string,\n    slotKeyToAdd: string,\n  ) {\n    this.validatorAddress = validatorAddress;\n    this.description = description;\n    this.commissionRate = commissionRate;\n    this.minSelfDelegation = minSelfDelegation;\n    this.maxTotalDelegation = maxTotalDelegation;\n    this.slotKeyToRemove = slotKeyToRemove;\n    this.slotKeyToAdd = slotKeyToAdd;\n  }\n  encode(): any[] {\n    const raw: Array<string | Uint8Array | Array<string | Uint8Array>> = [];\n    raw.push(hexlify(TransactionBase.normalizeAddress(this.validatorAddress)));\n    raw.push(this.description.encode());\n    raw.push(this.commissionRate.encode());\n    raw.push(hexlify(this.minSelfDelegation));\n    raw.push(hexlify(this.maxTotalDelegation));\n    raw.push(this.slotKeyToRemove);\n    raw.push(this.slotKeyToAdd);\n    return raw;\n  }\n}\n\nexport class Delegate {\n  delegatorAddress: string;\n  validatorAddress: string;\n  amount: number;\n  constructor(delegatorAddress: string, validatorAddress: string, amount: number) {\n    this.delegatorAddress = delegatorAddress;\n    this.validatorAddress = validatorAddress;\n    this.amount = amount;\n  }\n  encode(): any[] {\n    const raw: Array<string | Uint8Array> = [];\n    raw.push(hexlify(TransactionBase.normalizeAddress(this.delegatorAddress)));\n    raw.push(hexlify(TransactionBase.normalizeAddress(this.validatorAddress)));\n    raw.push(hexlify(this.amount));\n    return raw;\n  }\n}\n\nexport class Undelegate {\n  delegatorAddress: string;\n  validatorAddress: string;\n  amount: number;\n  constructor(delegatorAddress: string, validatorAddress: string, amount: number) {\n    this.delegatorAddress = delegatorAddress;\n    this.validatorAddress = validatorAddress;\n    this.amount = amount;\n  }\n  encode(): any[] {\n    const raw: Array<string | Uint8Array> = [];\n    raw.push(hexlify(TransactionBase.normalizeAddress(this.delegatorAddress)));\n    raw.push(hexlify(TransactionBase.normalizeAddress(this.validatorAddress)));\n    raw.push(hexlify(this.amount));\n    return raw;\n  }\n}\n\nexport class CollectRewards {\n  delegatorAddress: string;\n  constructor(delegatorAddress: string) {\n    this.delegatorAddress = delegatorAddress;\n  }\n  encode(): any[] {\n    const raw: Array<string | Uint8Array> = [];\n    raw.push(hexlify(TransactionBase.normalizeAddress(this.delegatorAddress)));\n    return raw;\n  }\n}\n","/**\n * @packageDocumentation\n * @module harmony-staking\n */\n\nimport { Messenger } from '@harmony-js/network';\nimport { Signature } from '@harmony-js/crypto';\n\nimport {\n  Directive,\n  CreateValidator,\n  EditValidator,\n  Delegate,\n  Undelegate,\n  CollectRewards,\n  Description,\n  CommissionRate,\n  Decimal,\n  StakingTransaction,\n} from './stakingTransaction';\nimport { Unit } from '@harmony-js/utils';\nimport { TxStatus } from '@harmony-js/transaction';\n\n/** @hidden */\nexport interface DescriptionInterface {\n  name: string;\n  identity: string;\n  website: string;\n  securityContact: string;\n  details: string;\n}\n\n/** @hidden */\nexport interface CommissionRateInterface {\n  rate: string;\n  maxRate: string;\n  maxChangeRate: string;\n}\n\nexport class StakingFactory {\n  public messenger: Messenger;\n  public stakeMsg?: CreateValidator | EditValidator | Delegate | Undelegate | CollectRewards;\n  public directive?: Directive;\n  public nonce: number | string;\n  public gasPrice: number | string;\n  public gasLimit: number | string;\n  public chainId: number;\n  public signature: Signature;\n  constructor(messenger: Messenger) {\n    this.messenger = messenger;\n    this.nonce = 0;\n    this.gasPrice = new Unit('100').asGwei().toHex();\n    this.gasLimit = new Unit('210000').asWei().toHex();\n    this.chainId = 1;\n    this.signature = {\n      v: 0,\n      r: '',\n      s: '',\n    };\n  }\n\n  createValidator({\n    validatorAddress,\n    description,\n    commissionRate,\n    minSelfDelegation,\n    maxTotalDelegation,\n    slotPubKeys,\n    amount,\n  }: {\n    validatorAddress: string;\n    description: DescriptionInterface;\n    commissionRate: CommissionRateInterface;\n    minSelfDelegation: number;\n    maxTotalDelegation: number;\n    slotPubKeys: string[];\n    amount: number;\n  }) {\n    this.stakeMsg = new CreateValidator(\n      validatorAddress,\n      new Description(\n        description.name,\n        description.identity,\n        description.website,\n        description.securityContact,\n        description.details,\n      ),\n      new CommissionRate(\n        new Decimal(commissionRate.rate),\n        new Decimal(commissionRate.maxRate),\n        new Decimal(commissionRate.maxChangeRate),\n      ),\n      minSelfDelegation,\n      maxTotalDelegation,\n      slotPubKeys,\n      amount,\n    );\n    this.directive = Directive.DirectiveCreateValidator;\n    return this;\n  }\n\n  editValidator({\n    validatorAddress,\n    description,\n    commissionRate,\n    minSelfDelegation,\n    maxTotalDelegation,\n    slotKeyToRemove,\n    slotKeyToAdd,\n  }: {\n    validatorAddress: string;\n    description: DescriptionInterface;\n    commissionRate: string;\n    minSelfDelegation: number;\n    maxTotalDelegation: number;\n    slotKeyToRemove: string;\n    slotKeyToAdd: string;\n  }) {\n    this.stakeMsg = new EditValidator(\n      validatorAddress,\n      new Description(\n        description.name,\n        description.identity,\n        description.website,\n        description.securityContact,\n        description.details,\n      ),\n      new Decimal(commissionRate),\n      minSelfDelegation,\n      maxTotalDelegation,\n      slotKeyToRemove,\n      slotKeyToAdd,\n    );\n    this.directive = Directive.DirectiveEditValidator;\n    return this;\n  }\n\n  delegate({\n    delegatorAddress,\n    validatorAddress,\n    amount,\n  }: {\n    delegatorAddress: string;\n    validatorAddress: string;\n    amount: number;\n  }) {\n    this.stakeMsg = new Delegate(delegatorAddress, validatorAddress, amount);\n    this.directive = Directive.DirectiveDelegate;\n    return this;\n  }\n\n  undelegate({\n    delegatorAddress,\n    validatorAddress,\n    amount,\n  }: {\n    delegatorAddress: string;\n    validatorAddress: string;\n    amount: number;\n  }) {\n    this.stakeMsg = new Undelegate(delegatorAddress, validatorAddress, amount);\n    this.directive = Directive.DirectiveUndelegate;\n    return this;\n  }\n\n  collectRewards({ delegatorAddress }: { delegatorAddress: string }) {\n    this.stakeMsg = new CollectRewards(delegatorAddress);\n    this.directive = Directive.DirectiveCollectRewards;\n    return this;\n  }\n\n  setTxParams({\n    nonce,\n    gasPrice,\n    gasLimit,\n    chainId,\n    signature,\n  }: {\n    nonce: number | string;\n    gasPrice: number | string;\n    gasLimit: number | string;\n    chainId: number;\n    signature: Signature;\n  }) {\n    this.nonce = nonce;\n    this.gasPrice = gasPrice;\n    this.gasLimit = gasLimit;\n    this.chainId = chainId;\n    this.signature = signature;\n    return this;\n  }\n\n  build() {\n    if (this.directive === undefined) {\n      throw new Error('cannot build stakingTransaction without Directive');\n    }\n    if (this.stakeMsg === undefined) {\n      throw new Error('cannot build stakingTransaction without stakeMsg');\n    }\n\n    return new StakingTransaction(\n      this.directive,\n      this.stakeMsg,\n      this.nonce !== undefined ? this.nonce : 0,\n      this.gasPrice !== undefined ? this.gasPrice : new Unit('100').asGwei().toHex(),\n      this.gasLimit !== undefined ? this.gasLimit : new Unit('210000').asWei().toHex(),\n      this.chainId !== undefined ? this.chainId : 1,\n      this.messenger,\n      TxStatus.INTIALIZED,\n    );\n  }\n  setMessenger(messenger: Messenger) {\n    this.messenger = messenger;\n  }\n}\n","/**\n * @packageDocumentation\n * @module harmony-staking\n * @ignore\n */\n\nexport * from './stakingTransaction';\nexport * from './factory';\n"],"names":["Directive","hexlify","encode","sign","keccak256","splitSignature","stripZeros","arrayify","TransactionBase","TextEncoder","Unit","numberToHex"],"mappings":"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"}