{"version":3,"file":"index.umd.js","sources":["../../../node_modules/tslib/tslib.es6.js","../src/utils.ts","../src/transactionBase.ts","../src/transaction.ts","../src/shardingTransaction.ts","../src/factory.ts","../src/types.ts","../src/abstractTransaction.ts","../src/index.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","/**\n * @packageDocumentation\n * @module harmony-transaction\n * @hidden\n */\n\nimport { hexToNumber, isHex, isAddress, strip0x, ChainType } from '@harmony-js/utils';\nimport {\n  decode,\n  encode,\n  keccak256,\n  hexlify,\n  BN,\n  hexZeroPad,\n  recoverAddress,\n  Signature,\n  getAddress,\n  sign,\n} from '@harmony-js/crypto';\nimport { HttpProvider, Messenger } from '@harmony-js/network';\nimport { TxParams } from './types';\nimport { Transaction } from './transaction';\n\nexport const transactionFields = [\n  { name: 'nonce', length: 32, fix: false },\n  { name: 'gasPrice', length: 32, fix: false, transform: 'hex' },\n  { name: 'gasLimit', length: 32, fix: false, transform: 'hex' },\n  { name: 'shardID', length: 16, fix: false },\n  // recover it after main repo fix\n  { name: 'toShardID', length: 16, fix: false },\n  { name: 'to', length: 20, fix: true },\n  { name: 'value', length: 32, fix: false, transform: 'hex' },\n  { name: 'data', fix: false },\n];\n\nexport const transactionFieldsETH = [\n  { name: 'nonce', length: 32, fix: false },\n  { name: 'gasPrice', length: 32, fix: false, transform: 'hex' },\n  { name: 'gasLimit', length: 32, fix: false, transform: 'hex' },\n  { name: 'to', length: 20, fix: true },\n  { name: 'value', length: 32, fix: false, transform: 'hex' },\n  { name: 'data', fix: false },\n];\n\nexport const handleNumber = (value: string) => {\n  if (isHex(value) && value === '0x') {\n    return hexToNumber('0x00');\n  } else if (isHex(value) && value !== '0x') {\n    return hexToNumber(value);\n  } else {\n    return value;\n  }\n};\n\nexport const handleAddress = (value: string): string => {\n  if (value === '0x') {\n    return '0x';\n  } else if (isAddress(value)) {\n    return value;\n  } else {\n    return '0x';\n  }\n};\n\nexport const recover = (rawTransaction: string) => {\n  const transaction = decode(rawTransaction);\n  if (transaction.length !== 11 && transaction.length !== 8) {\n    throw new Error('invalid rawTransaction');\n  }\n\n  const tx: TxParams = {\n    id: '0x',\n    from: '0x',\n    rawTransaction: '0x',\n    unsignedRawTransaction: '0x',\n    nonce: new BN(strip0x(handleNumber(transaction[0]))).toNumber(),\n    gasPrice: new BN(strip0x(handleNumber(transaction[1]))),\n    gasLimit: new BN(strip0x(handleNumber(transaction[2]))),\n    shardID: new BN(strip0x(handleNumber(transaction[3]))).toNumber(),\n    toShardID: new BN(strip0x(handleNumber(transaction[4]))).toNumber(),\n    to:\n      handleAddress(transaction[5]) !== '0x'\n        ? getAddress(handleAddress(transaction[5])).checksum\n        : '0x',\n    value: new BN(strip0x(handleNumber(transaction[6]))),\n    data: transaction[7],\n    chainId: 0,\n    signature: {\n      r: '',\n      s: '',\n      recoveryParam: 0,\n      v: 0,\n    },\n  };\n\n  // Legacy unsigned transaction\n  if (transaction.length === 8) {\n    tx.unsignedRawTransaction = rawTransaction;\n    return tx;\n  }\n\n  try {\n    tx.signature.v = new BN(strip0x(handleNumber(transaction[8]))).toNumber();\n  } catch (error) {\n    throw error;\n  }\n\n  tx.signature.r = hexZeroPad(transaction[9], 32);\n  tx.signature.s = hexZeroPad(transaction[10], 32);\n\n  if (\n    new BN(strip0x(handleNumber(tx.signature.r))).isZero() &&\n    new BN(strip0x(handleNumber(tx.signature.s))).isZero()\n  ) {\n    // EIP-155 unsigned transaction\n    tx.chainId = tx.signature.v;\n    tx.signature.v = 0;\n  } else {\n    // Signed Tranasaction\n\n    tx.chainId = Math.floor((tx.signature.v - 35) / 2);\n    if (tx.chainId < 0) {\n      tx.chainId = 0;\n    }\n\n    let recoveryParam = tx.signature.v - 27;\n\n    const raw = transaction.slice(0, 8);\n\n    if (tx.chainId !== 0) {\n      raw.push(hexlify(tx.chainId));\n      raw.push('0x');\n      raw.push('0x');\n      recoveryParam -= tx.chainId * 2 + 8;\n    }\n\n    const digest = keccak256(encode(raw));\n    try {\n      const recoveredFrom = recoverAddress(digest, {\n        r: hexlify(tx.signature.r),\n        s: hexlify(tx.signature.s),\n        recoveryParam,\n      });\n      tx.from = recoveredFrom === '0x' ? '0x' : getAddress(recoveredFrom).checksum;\n    } catch (error) {\n      throw error;\n    }\n    tx.rawTransaction = rawTransaction;\n    tx.id = keccak256(rawTransaction);\n  }\n\n  return tx;\n};\n\nexport const recoverETH = (rawTransaction: string) => {\n  const transaction = decode(rawTransaction);\n  if (transaction.length !== 9 && transaction.length !== 6) {\n    throw new Error('invalid rawTransaction');\n  }\n\n  const tx: TxParams = {\n    id: '0x',\n    from: '0x',\n    rawTransaction: '0x',\n    unsignedRawTransaction: '0x',\n    nonce: new BN(strip0x(handleNumber(transaction[0]))).toNumber(),\n    gasPrice: new BN(strip0x(handleNumber(transaction[1]))),\n    gasLimit: new BN(strip0x(handleNumber(transaction[2]))),\n    shardID: 0,\n    toShardID: 0,\n\n    to:\n      handleAddress(transaction[3]) !== '0x'\n        ? getAddress(handleAddress(transaction[3])).checksum\n        : '0x',\n    value: new BN(strip0x(handleNumber(transaction[4]))),\n    data: transaction[5],\n    chainId: 0,\n    signature: {\n      r: '',\n      s: '',\n      recoveryParam: 0,\n      v: 0,\n    },\n  };\n\n  // Legacy unsigned transaction\n  if (transaction.length === 6) {\n    tx.unsignedRawTransaction = rawTransaction;\n    return tx;\n  }\n\n  try {\n    tx.signature.v = new BN(strip0x(handleNumber(transaction[6]))).toNumber();\n  } catch (error) {\n    throw error;\n  }\n\n  tx.signature.r = hexZeroPad(transaction[7], 32);\n  tx.signature.s = hexZeroPad(transaction[8], 32);\n\n  if (\n    new BN(strip0x(handleNumber(tx.signature.r))).isZero() &&\n    new BN(strip0x(handleNumber(tx.signature.s))).isZero()\n  ) {\n    // EIP-155 unsigned transaction\n    tx.chainId = tx.signature.v;\n    tx.signature.v = 0;\n  } else {\n    // Signed Tranasaction\n\n    tx.chainId = Math.floor((tx.signature.v - 35) / 2);\n    if (tx.chainId < 0) {\n      tx.chainId = 0;\n    }\n\n    let recoveryParam = tx.signature.v - 27;\n\n    const raw = transaction.slice(0, 6);\n\n    if (tx.chainId !== 0) {\n      raw.push(hexlify(tx.chainId));\n      raw.push('0x');\n      raw.push('0x');\n      recoveryParam -= tx.chainId * 2 + 8;\n    }\n\n    const digest = keccak256(encode(raw));\n    try {\n      const recoveredFrom = recoverAddress(digest, {\n        r: hexlify(tx.signature.r),\n        s: hexlify(tx.signature.s),\n        recoveryParam,\n      });\n      tx.from = recoveredFrom === '0x' ? '0x' : getAddress(recoveredFrom).checksum;\n    } catch (error) {\n      throw error;\n    }\n    tx.rawTransaction = rawTransaction;\n    tx.id = keccak256(rawTransaction);\n  }\n\n  return tx;\n};\n\nexport const sleep = async (ms: number) =>\n  new Promise((resolve) => {\n    setTimeout(() => resolve(), ms);\n  });\n\nexport enum TransactionEvents {\n  transactionHash = 'transactionHash',\n  error = 'error',\n  confirmation = 'confirmation',\n  receipt = 'receipt',\n  track = 'track',\n  cxConfirmation = 'cxConfirmation',\n  cxReceipt = 'cxReceipt',\n  cxTrack = 'cxTrack',\n}\n\nexport const defaultMessenger = new Messenger(\n  new HttpProvider('http://localhost:9500'),\n  ChainType.Harmony,\n);\n\nexport const RLPSign = (transaction: Transaction, prv: string): [Signature, string] => {\n  const [unsignedRawTransaction, raw] = transaction.getRLPUnsigned();\n  const regroup: TxParams = {\n    ...transaction.txParams,\n    unsignedRawTransaction,\n  };\n  transaction.setParams(regroup);\n  const signature = sign(keccak256(unsignedRawTransaction), prv);\n  const signed = transaction.getRLPSigned(raw, signature);\n  return [signature, signed];\n};\n","/**\n * @packageDocumentation\n * @module harmony-transaction\n * @hidden\n */\n\nimport { BN, getAddress, HarmonyAddress } from '@harmony-js/crypto';\nimport { hexToNumber } from '@harmony-js/utils';\nimport { Messenger, RPCMethod, Emitter, HttpProvider, NewHeaders } from '@harmony-js/network';\nimport { TxStatus, TransasctionReceipt } from './types';\nimport { sleep, TransactionEvents } from './utils';\nimport { AbstractTransaction } from './abstractTransaction';\n\nexport class TransactionBase implements AbstractTransaction {\n  static normalizeAddress(address: string) {\n    if (address === '0x') {\n      return '0x';\n    } else if (\n      HarmonyAddress.isValidChecksum(address) ||\n      HarmonyAddress.isValidBech32(address) ||\n      HarmonyAddress.isValidBech32TestNet(address)\n    ) {\n      return getAddress(address).checksum;\n    } else {\n      throw new Error(`Address format is not supported`);\n    }\n  }\n  emitter: Emitter;\n  messenger: Messenger;\n  txStatus: TxStatus;\n  blockNumbers: string[] = [];\n  confirmations: number = 0;\n  confirmationCheck: number = 0;\n  cxStatus: TxStatus = TxStatus.INTIALIZED;\n  cxBlockNumbers: string[] = [];\n  cxConfirmations: number = 0;\n  cxConfirmationCheck: number = 0;\n  receipt?: TransasctionReceipt;\n\n  id: string;\n  shardID: number | string;\n\n  constructor(messenger: Messenger, txStatus: TxStatus) {\n    this.messenger = messenger;\n    this.txStatus = txStatus;\n    this.emitter = new Emitter();\n    this.id = '0x';\n    this.shardID = this.messenger.currentShard;\n  }\n\n  setMessenger(messenger: Messenger) {\n    this.messenger = messenger;\n  }\n\n  setTxStatus(txStatus: TxStatus): void {\n    this.txStatus = txStatus;\n  }\n\n  getTxStatus(): TxStatus {\n    return this.txStatus;\n  }\n  setCxStatus(cxStatus: TxStatus): void {\n    this.cxStatus = cxStatus;\n  }\n\n  getCxStatus(): TxStatus {\n    return this.cxStatus;\n  }\n\n  // get status\n  isInitialized(): boolean {\n    return this.getTxStatus() === TxStatus.INTIALIZED;\n  }\n  isSigned(): boolean {\n    return this.getTxStatus() === TxStatus.SIGNED;\n  }\n  isPending(): boolean {\n    return this.getTxStatus() === TxStatus.PENDING;\n  }\n  isRejected(): boolean {\n    return this.getTxStatus() === TxStatus.REJECTED;\n  }\n  isConfirmed(): boolean {\n    return this.getTxStatus() === TxStatus.CONFIRMED;\n  }\n  isCxPending(): boolean {\n    return this.getCxStatus() === TxStatus.PENDING;\n  }\n  isCxRejected(): boolean {\n    return this.getCxStatus() === TxStatus.REJECTED;\n  }\n  isCxConfirmed(): boolean {\n    return this.getCxStatus() === TxStatus.CONFIRMED;\n  }\n  observed() {\n    return this.emitter;\n  }\n\n  async trackTx(txHash: string, shardID: number | string) {\n    if (!this.messenger) {\n      throw new Error('Messenger not found');\n    }\n    // TODO: regex validation for txHash so we don't get garbage\n    const res = await this.messenger.send(\n      RPCMethod.GetTransactionReceipt,\n      txHash,\n      this.messenger.chainType,\n      typeof shardID === 'string' ? Number.parseInt(shardID, 10) : shardID,\n    );\n    if (res.isResult() && res.result !== null) {\n      this.receipt = res.result;\n      this.emitReceipt(this.receipt);\n      this.id = res.result.transactionHash;\n      this.confirmations += 1;\n\n      if (this.receipt) {\n        if (this.receipt.status && this.receipt.status === '0x1') {\n          this.receipt.byzantium = true;\n          this.txStatus = TxStatus.CONFIRMED;\n        } else if (this.receipt.status && this.receipt.status === '0x0') {\n          this.receipt.byzantium = true;\n          this.txStatus = TxStatus.REJECTED;\n        } else if (this.receipt.status === undefined && this.receipt.root) {\n          this.receipt.byzantium = false;\n          this.txStatus = TxStatus.CONFIRMED;\n        }\n        return true;\n      } else {\n        this.txStatus = TxStatus.PENDING;\n        const currentBlock = await this.getBlockNumber(shardID);\n\n        this.blockNumbers.push('0x' + currentBlock.toString('hex'));\n\n        this.confirmationCheck += 1;\n        return false;\n      }\n    } else {\n      this.txStatus = TxStatus.PENDING;\n      const currentBlock = await this.getBlockNumber(shardID);\n      this.blockNumbers.push('0x' + currentBlock.toString('hex'));\n      this.confirmationCheck += 1;\n      return false;\n    }\n  }\n\n  async txConfirm(\n    txHash: string,\n    maxAttempts: number = 20,\n    interval: number = 1000,\n    shardID: number | string,\n  ) {\n    if (this.messenger.provider instanceof HttpProvider) {\n      this.txStatus = TxStatus.PENDING;\n      const oldBlock = await this.getBlockNumber(shardID);\n      let checkBlock = oldBlock;\n\n      for (let attempt = 0; attempt < maxAttempts; attempt += 1) {\n        try {\n          const newBlock = await this.getBlockNumber(shardID);\n          // TODO: this is super ugly, must be a better way doing this\n          const nextBlock = checkBlock.add(new BN(attempt === 0 ? attempt : 1));\n\n          if (newBlock.gte(nextBlock)) {\n            checkBlock = newBlock;\n            this.emitTrack({\n              txHash,\n              attempt,\n              currentBlock: checkBlock.toString(),\n              shardID,\n            });\n\n            if (await this.trackTx(txHash, shardID)) {\n              this.emitConfirm(this.txStatus);\n              return this;\n            }\n          } else {\n            attempt = attempt - 1 >= 0 ? attempt - 1 : 0;\n          }\n        } catch (err) {\n          this.txStatus = TxStatus.REJECTED;\n          this.emitConfirm(this.txStatus);\n          throw err;\n        }\n\n        if (attempt + 1 < maxAttempts) {\n          // await sleep(interval * attempt);\n          await sleep(interval);\n        }\n      }\n      this.txStatus = TxStatus.REJECTED;\n      this.emitConfirm(this.txStatus);\n      throw new Error(`The transaction is still not confirmed after ${maxAttempts} attempts.`);\n    } else {\n      try {\n        if (await this.trackTx(txHash, shardID)) {\n          this.emitConfirm(this.txStatus);\n          return this;\n        } else {\n          const result = await this.socketConfirm(txHash, maxAttempts, shardID);\n          return result;\n        }\n      } catch (error) {\n        this.txStatus = TxStatus.REJECTED;\n        this.emitConfirm(this.txStatus);\n        throw new Error(\n          `The transaction is still not confirmed after ${maxAttempts * interval} mil seconds.`,\n        );\n      }\n    }\n  }\n\n  socketConfirm(\n    txHash: string,\n    maxAttempts: number = 20,\n    shardID: number | string,\n  ): Promise<TransactionBase> {\n    return new Promise((resolve, reject) => {\n      const newHeads = Promise.resolve(\n        new NewHeaders(\n          this.messenger,\n          typeof shardID === 'string' ? Number.parseInt(shardID, 10) : shardID,\n        ),\n      );\n      newHeads.then((p) => {\n        p.onData(async (data: any) => {\n          const blockNumber =\n            this.messenger.chainPrefix === 'hmy'\n              ? data.params.result.Header.number\n              : data.params.result.number;\n          this.emitTrack({\n            txHash,\n            attempt: this.confirmationCheck,\n            currentBlock: hexToNumber(blockNumber),\n            shardID,\n          });\n          if (!this.blockNumbers.includes(blockNumber)) {\n            if (await this.trackTx(txHash, shardID)) {\n              this.emitConfirm(this.txStatus);\n              await p.unsubscribe();\n              resolve(this);\n            } else {\n              if (this.confirmationCheck === maxAttempts) {\n                this.txStatus = TxStatus.REJECTED;\n                this.emitConfirm(this.txStatus);\n                await p.unsubscribe();\n                resolve(this);\n              }\n            }\n          }\n        }).onError(async (error: any) => {\n          this.txStatus = TxStatus.REJECTED;\n          this.emitConfirm(this.txStatus);\n          this.emitError(error);\n          await p.unsubscribe();\n          reject(error);\n        });\n      });\n    });\n  }\n\n  emitTransactionHash(transactionHash: string) {\n    this.emitter.emit(TransactionEvents.transactionHash, transactionHash);\n  }\n  emitReceipt(receipt: any) {\n    this.emitter.emit(TransactionEvents.receipt, receipt);\n  }\n  emitError(error: any) {\n    this.emitter.emit(TransactionEvents.error, error);\n  }\n  emitConfirm(data: any) {\n    this.emitter.emit(TransactionEvents.confirmation, data);\n  }\n  emitTrack(data: any) {\n    this.emitter.emit(TransactionEvents.track, data);\n  }\n  emitCxReceipt(receipt: any) {\n    this.emitter.emit(TransactionEvents.cxReceipt, receipt);\n  }\n  emitCxConfirm(data: any) {\n    this.emitter.emit(TransactionEvents.cxConfirmation, data);\n  }\n  emitCxTrack(data: any) {\n    this.emitter.emit(TransactionEvents.cxTrack, data);\n  }\n\n  async getBlockNumber(shardID: number | string): Promise<BN> {\n    try {\n      const currentBlock = await this.messenger.send(\n        RPCMethod.BlockNumber,\n        [],\n        this.messenger.chainPrefix,\n        typeof shardID === 'string' ? Number.parseInt(shardID, 10) : shardID,\n      );\n      if (currentBlock.isError()) {\n        throw currentBlock.message;\n      }\n      return new BN(currentBlock.result.replace('0x', ''), 'hex');\n    } catch (error) {\n      throw error;\n    }\n  }\n  async getBlockByNumber(blockNumber: string) {\n    try {\n      const block = await this.messenger.send(\n        RPCMethod.GetBlockByNumber,\n        [blockNumber, true],\n        this.messenger.chainPrefix,\n        typeof this.shardID === 'string' ? Number.parseInt(this.shardID, 10) : this.shardID,\n      );\n      if (block.isError()) {\n        throw block.message;\n      }\n      return block.result;\n    } catch (error) {\n      throw error;\n    }\n  }\n\n  async cxConfirm(\n    txHash: string,\n    maxAttempts: number = 20,\n    interval: number = 1000,\n    toShardID: number | string,\n  ) {\n    if (this.messenger.provider instanceof HttpProvider) {\n      const oldBlock = await this.getBlockNumber(toShardID);\n      let checkBlock = oldBlock;\n\n      for (let attempt = 0; attempt < maxAttempts; attempt += 1) {\n        try {\n          const newBlock = await this.getBlockNumber(toShardID);\n          // TODO: this is super ugly, must be a better way doing this\n          const nextBlock = checkBlock.add(new BN(attempt === 0 ? attempt : 1));\n\n          if (newBlock.gte(nextBlock)) {\n            checkBlock = newBlock;\n            this.emitCxTrack({\n              txHash,\n              attempt,\n              currentBlock: checkBlock.toString(),\n              toShardID,\n            });\n\n            if (await this.trackCx(txHash, toShardID)) {\n              this.emitCxConfirm(this.cxStatus);\n              return this;\n            }\n          } else {\n            attempt = attempt - 1 >= 0 ? attempt - 1 : 0;\n          }\n        } catch (err) {\n          this.cxStatus = TxStatus.REJECTED;\n          this.emitCxConfirm(this.cxStatus);\n          throw err;\n        }\n        if (attempt + 1 < maxAttempts) {\n          await sleep(interval);\n        }\n      }\n      this.cxStatus = TxStatus.REJECTED;\n      this.emitCxConfirm(this.cxStatus);\n      throw new Error(`The transaction is still not confirmed after ${maxAttempts} attempts.`);\n    } else {\n      try {\n        if (await this.trackCx(txHash, toShardID)) {\n          this.emitCxConfirm(this.cxStatus);\n          return this;\n        } else {\n          const result = await this.socketCxConfirm(txHash, maxAttempts, toShardID);\n          return result;\n        }\n      } catch (error) {\n        this.cxStatus = TxStatus.REJECTED;\n        this.emitCxConfirm(this.cxStatus);\n        throw new Error(\n          `The transaction is still not confirmed after ${maxAttempts * interval} mil seconds.`,\n        );\n      }\n    }\n  }\n\n  async trackCx(txHash: string, toShardID: number | string) {\n    if (!this.messenger) {\n      throw new Error('Messenger not found');\n    }\n    // TODO: regex validation for txHash so we don't get garbage\n    const res = await this.messenger.send(\n      RPCMethod.GetCXReceiptByHash,\n      txHash,\n      this.messenger.chainPrefix,\n      typeof toShardID === 'string' ? Number.parseInt(toShardID, 10) : toShardID,\n    );\n    if (res.isResult() && res.result !== null) {\n      this.emitCxReceipt(res.result);\n      this.cxStatus = TxStatus.CONFIRMED;\n      return true;\n    } else {\n      const currentBlock = await this.getBlockNumber(toShardID);\n      this.cxBlockNumbers.push('0x' + currentBlock.toString('hex'));\n      this.cxConfirmationCheck += 1;\n      this.cxStatus = TxStatus.PENDING;\n      return false;\n    }\n  }\n\n  socketCxConfirm(\n    txHash: string,\n    maxAttempts: number = 20,\n    toShardID: number | string,\n  ): Promise<TransactionBase> {\n    return new Promise((resolve, reject) => {\n      const newHeads = Promise.resolve(\n        new NewHeaders(\n          this.messenger,\n          typeof toShardID === 'string' ? Number.parseInt(toShardID, 10) : toShardID,\n        ),\n      );\n      newHeads.then((p) => {\n        p.onData(async (data: any) => {\n          const blockNumber =\n            this.messenger.chainPrefix === 'hmy'\n              ? data.params.result.Header.number\n              : data.params.result.number;\n          this.emitCxTrack({\n            txHash,\n            attempt: this.cxConfirmationCheck,\n            currentBlock: hexToNumber(blockNumber),\n            toShardID,\n          });\n          if (!this.blockNumbers.includes(blockNumber)) {\n            if (await this.trackCx(txHash, toShardID)) {\n              this.emitCxConfirm(this.cxStatus);\n              await p.unsubscribe();\n              resolve(this);\n            } else {\n              if (this.cxConfirmationCheck === maxAttempts) {\n                this.cxStatus = TxStatus.REJECTED;\n                this.emitCxConfirm(this.cxStatus);\n                await p.unsubscribe();\n                resolve(this);\n              }\n            }\n          }\n        }).onError(async (error: any) => {\n          this.cxStatus = TxStatus.REJECTED;\n          this.emitCxConfirm(this.cxStatus);\n          this.emitError(error);\n          await p.unsubscribe();\n          reject(error);\n        });\n      });\n    });\n  }\n}\n","/**\n * @packageDocumentation\n * @module harmony-transaction\n */\n\nimport {\n  BN,\n  encode,\n  arrayify,\n  hexlify,\n  stripZeros,\n  Signature,\n  splitSignature,\n} from '@harmony-js/crypto';\nimport { add0xToString, numberToHex, ChainType, Unit } from '@harmony-js/utils';\nimport { Messenger, RPCMethod } from '@harmony-js/network';\nimport { TxParams, TxStatus } from './types';\nimport {\n  recover,\n  transactionFields,\n  defaultMessenger,\n  transactionFieldsETH,\n  recoverETH,\n} from './utils';\n\nimport { TransactionBase } from './transactionBase';\n\nclass Transaction extends TransactionBase {\n  /** @hidden */\n  private from: string;\n  /** @hidden */\n  private nonce: number | string;\n  /** @hidden */\n  private to: string;\n  // private shardID: number | string;\n  /** @hidden */\n  private toShardID: number | string;\n  /** @hidden */\n  private gasLimit: BN;\n  /** @hidden */\n  private gasPrice: BN;\n  /** @hidden */\n  private data: string;\n  /** @hidden */\n  private value: BN;\n  /** @hidden */\n  private chainId: number;\n  /** @hidden */\n  private rawTransaction: string;\n  /** @hidden */\n  private unsignedRawTransaction: string;\n  /** @hidden */\n  private signature: Signature;\n\n  /**\n   * \n   * @Params\n   * ```javascript\n   * id:               string;\n    from:             string;\n    to:               string;\n    nonce:            number | string;\n    gasLimit:         number | string | BN;\n    gasPrice:         number | string | BN;\n    shardID:          number | string;\n    toShardID:        number | string;\n    data:             string;\n    value:            number | string | BN;\n    chainId:          number;\n    rawTransaction:   string;\n    unsignedRawTransaction: string;\n    signature:        Signature;\n    receipt?:         TransasctionReceipt;\n   * ```\n   */\n  constructor(\n    params?: TxParams | any,\n    messenger: Messenger = defaultMessenger,\n    txStatus = TxStatus.INTIALIZED,\n  ) {\n    super(messenger, txStatus);\n    // intialize transaction\n    this.id = params && params.id ? params.id : '0x';\n    this.from = params && params.from ? params.from : '0x';\n    this.nonce = params && params.nonce ? params.nonce : 0;\n    this.gasPrice =\n      params && params.gasPrice\n        ? new Unit(params.gasPrice).asWei().toWei()\n        : new Unit(0).asWei().toWei();\n    this.gasLimit =\n      params && params.gasLimit\n        ? new Unit(params.gasLimit).asWei().toWei()\n        : new Unit(0).asWei().toWei();\n    this.shardID =\n      params && params.shardID !== undefined ? params.shardID : this.messenger.currentShard;\n    this.toShardID =\n      params && params.toShardID !== undefined ? params.toShardID : this.messenger.currentShard;\n\n    this.to = params && params.to ? Transaction.normalizeAddress(params.to) : '0x';\n    this.value =\n      params && params.value ? new Unit(params.value).asWei().toWei() : new Unit(0).asWei().toWei();\n    this.data = params && params.data ? params.data : '0x';\n    // chainid should change with different network settings\n    this.chainId = params && params.chainId ? params.chainId : this.messenger.chainId;\n    this.rawTransaction = params && params.rawTransaction ? params.rawTransaction : '0x';\n    this.unsignedRawTransaction =\n      params && params.unsignedRawTransaction ? params.unsignedRawTransaction : '0x';\n    this.signature =\n      params && params.signature\n        ? params.signature\n        : {\n            r: '',\n            s: '',\n            recoveryParam: 0,\n            v: 0,\n          };\n\n    this.receipt = params && params.receipt ? params.receipt : undefined;\n    this.cxStatus = this.isCrossShard() ? TxStatus.INTIALIZED : TxStatus.NONE;\n  }\n\n  /**\n   *\n   * @example\n   * ```javascript\n   * const unsigned = txn.getRLPUnsigned(txn);\n   * console.log(unsigned);\n   * ```\n   */\n  getRLPUnsigned(): [string, any[]] {\n    const raw: Array<string | Uint8Array> = [];\n\n    // temp setting to be compatible with eth\n    const fields =\n      this.messenger.chainType === ChainType.Harmony ? transactionFields : transactionFieldsETH;\n\n    fields.forEach((field: any) => {\n      let value = (<any>this.txParams)[field.name] || [];\n      value = arrayify(\n        hexlify(field.transform === 'hex' ? add0xToString(value.toString(16)) : value),\n      );\n      // Fixed-width field\n      if (field.fix === true && field.length && value.length !== field.length && value.length > 0) {\n        throw new Error(`invalid length for ${field.name}`);\n      }\n\n      // Variable-width (with a maximum)\n      if (field.fix === false && field.length) {\n        value = stripZeros(value);\n        if (value.length > field.length) {\n          throw new Error(`invalid length for ${field.name}`);\n        }\n      }\n\n      raw.push(hexlify(value));\n    });\n\n    if (this.txParams.chainId != null && this.txParams.chainId !== 0) {\n      raw.push(hexlify(this.txParams.chainId));\n      raw.push('0x');\n      raw.push('0x');\n    }\n\n    return [encode(raw), raw];\n  }\n\n  getRLPSigned(raw: any[], signature: Signature): string {\n    // temp setting to be compatible with eth\n    const rawLength = this.messenger.chainType === ChainType.Harmony ? 11 : 9;\n    const sig = splitSignature(signature);\n    let v = 27 + (sig.recoveryParam || 0);\n    if (raw.length === rawLength) {\n      raw.pop();\n      raw.pop();\n      raw.pop();\n      v += this.chainId * 2 + 8;\n    }\n\n    raw.push(hexlify(v));\n    raw.push(stripZeros(arrayify(sig.r) || []));\n    raw.push(stripZeros(arrayify(sig.s) || []));\n\n    return encode(raw);\n  }\n\n  /**\n   * @example\n   * ```javascript\n   * console.log(txn.getRawTransaction());\n   * ```\n   */\n  getRawTransaction(): string {\n    return this.rawTransaction;\n  }\n\n  /** @hidden */\n  recover(rawTransaction: string): Transaction {\n    // temp setting to be compatible with eth\n    const recovered =\n      this.messenger.chainType === ChainType.Harmony\n        ? recover(rawTransaction)\n        : recoverETH(rawTransaction);\n\n    this.setParams(recovered);\n    return this;\n  }\n\n  /**\n   * get the payload of transaction\n   *\n   * @example\n   * ```\n   * const payload = txn.txPayload;\n   * console.log(payload);\n   * ```\n   */\n  get txPayload() {\n    return {\n      from: this.txParams.from || '0x',\n      to: this.txParams.to || '0x',\n      shardID: this.txParams.shardID ? numberToHex(this.shardID) : '0x',\n      toShardID: this.txParams.toShardID ? numberToHex(this.toShardID) : '0x',\n      gas: this.txParams.gasLimit ? numberToHex(this.txParams.gasLimit) : '0x',\n      gasPrice: this.txParams.gasPrice ? numberToHex(this.txParams.gasPrice) : '0x',\n      value: this.txParams.value ? numberToHex(this.txParams.value) : '0x',\n      data: this.txParams.data || '0x',\n      nonce: this.txParams.nonce ? numberToHex(this.nonce) : '0x',\n    };\n  }\n\n  /**\n   * get transaction params\n   *\n   * @example\n   * ```\n   * const txParams = txn.txParams;\n   * console.log(txParams)\n   * ```\n   */\n  get txParams(): TxParams {\n    return {\n      id: this.id || '0x',\n      from: this.from || '',\n      nonce: this.nonce || 0,\n      gasPrice: this.gasPrice || new Unit(0).asWei().toWei(),\n      gasLimit: this.gasLimit || new Unit(0).asWei().toWei(),\n      shardID: this.shardID !== undefined ? this.shardID : this.messenger.currentShard,\n      toShardID: this.toShardID !== undefined ? this.toShardID : this.messenger.currentShard,\n      to: Transaction.normalizeAddress(this.to) || '0x',\n      value: this.value || new Unit(0).asWei().toWei(),\n      data: this.data || '0x',\n      chainId: this.chainId || 0,\n      rawTransaction: this.rawTransaction || '0x',\n      unsignedRawTransaction: this.unsignedRawTransaction || '0x',\n      signature: this.signature || '0x',\n    };\n  }\n\n  /**\n   * set the params to the txn\n   *\n   * @example\n   * ```\n   * txn.setParams({\n   *   to: 'one1ew56rqrucu6p6n598fmjmnfh8dd4xpg6atne9c',\n   *   value: '1200',\n   *   gasLimit: '230000',\n   *   shardID: 1,\n   *   toShardID: 0,\n   *   gasPrice: new hmy.utils.Unit('101').asGwei().toWei(),\n   *   signature: {\n   *     r: '0xd693b532a80fed6392b428604171fb32fdbf953728a3a7ecc7d4062b1652c042',\n   *     s: '0x24e9c602ac800b983b035700a14b23f78a253ab762deab5dc27e3555a750b354',\n   *     v: 0\n   *   },\n   * });\n   * console.log(txn);\n   * ```\n   */\n  setParams(params: TxParams) {\n    this.id = params && params.id ? params.id : '0x';\n    this.from = params && params.from ? params.from : '0x';\n    this.nonce = params && params.nonce ? params.nonce : 0;\n    this.gasPrice =\n      params && params.gasPrice\n        ? new Unit(params.gasPrice).asWei().toWei()\n        : new Unit(0).asWei().toWei();\n    this.gasLimit =\n      params && params.gasLimit\n        ? new Unit(params.gasLimit).asWei().toWei()\n        : new Unit(0).asWei().toWei();\n    this.shardID =\n      params && params.shardID !== undefined ? params.shardID : this.messenger.currentShard;\n    this.toShardID =\n      params && params.toShardID !== undefined ? params.toShardID : this.messenger.currentShard;\n    this.to = params && params.to ? Transaction.normalizeAddress(params.to) : '0x';\n    this.value =\n      params && params.value ? new Unit(params.value).asWei().toWei() : new Unit(0).asWei().toWei();\n    this.data = params && params.data ? params.data : '0x';\n    this.chainId = params && params.chainId ? params.chainId : 0;\n    this.rawTransaction = params && params.rawTransaction ? params.rawTransaction : '0x';\n    this.unsignedRawTransaction =\n      params && params.unsignedRawTransaction ? params.unsignedRawTransaction : '0x';\n    this.signature =\n      params && params.signature\n        ? params.signature\n        : {\n            r: '',\n            s: '',\n            recoveryParam: 0,\n            v: 0,\n          };\n    if (this.rawTransaction !== '0x') {\n      this.setTxStatus(TxStatus.SIGNED);\n    } else {\n      this.setTxStatus(TxStatus.INTIALIZED);\n    }\n  }\n\n  /** @hidden */\n  map(fn: any) {\n    const newParams = fn(this.txParams);\n    this.setParams(newParams);\n\n    return this;\n  }\n\n  /**\n   * Check whether the transaction is cross shard\n   *\n   * @example\n   * ```javascript\n   * console.log(txn.isCrossShard());\n   * ```\n   */\n  isCrossShard(): boolean {\n    return new BN(this.txParams.shardID).toString() !== new BN(this.txParams.toShardID).toString();\n  }\n\n  /**\n   *\n   * @example\n   * ```\n   * txn.sendTransaction().then((value) => {\n   *   console.log(value);\n   * });\n   * ```\n   */\n\n  async sendTransaction(): Promise<[Transaction, string]> {\n    if (this.rawTransaction === 'tx' || this.rawTransaction === undefined) {\n      throw new Error('Transaction not signed');\n    }\n    if (!this.messenger) {\n      throw new Error('Messenger not found');\n    }\n\n    // const fromShard = this.shardID;\n    // const toShard = this.toShardID;\n    // await this.messenger.setShardingProviders();\n    const res = await this.messenger.send(\n      RPCMethod.SendRawTransaction,\n      this.rawTransaction,\n      this.messenger.chainType,\n      typeof this.shardID === 'string' ? Number.parseInt(this.shardID, 10) : this.shardID,\n    );\n\n    // temporarilly hard coded\n    if (res.isResult()) {\n      this.id = res.result;\n      this.emitTransactionHash(this.id);\n      this.setTxStatus(TxStatus.PENDING);\n      // await this.confirm(this.id, 20, 1000);\n      return [this, res.result];\n    } else if (res.isError()) {\n      this.emitConfirm(`transaction failed:${res.error.message}`);\n      this.setTxStatus(TxStatus.REJECTED);\n      return [this, `transaction failed:${res.error.message}`];\n    } else {\n      this.emitError('transaction failed');\n      throw new Error('transaction failed');\n    }\n  }\n\n  async confirm(\n    txHash: string,\n    maxAttempts: number = 20,\n    interval: number = 1000,\n    shardID: number | string = this.txParams.shardID,\n    toShardID: number | string = this.txParams.toShardID,\n  ) {\n    const txConfirmed = await this.txConfirm(txHash, maxAttempts, interval, shardID);\n    if (!this.isCrossShard()) {\n      return txConfirmed;\n    }\n    if (txConfirmed.isConfirmed()) {\n      const cxConfirmed = await this.cxConfirm(txHash, maxAttempts, interval, toShardID);\n      return cxConfirmed;\n    } else {\n      return txConfirmed;\n    }\n  }\n}\nexport { Transaction };\n","/**\n * @packageDocumentation\n * @module harmony-transaction\n * @hidden\n */\n\nimport { Messenger } from '@harmony-js/network';\nimport { AddressSuffix } from '@harmony-js/utils';\nimport { Transaction } from './transaction';\nimport { TxParams, TxStatus } from './types';\nimport { defaultMessenger } from './utils';\n\nexport class ShardingTransaction extends Transaction {\n  constructor(\n    params?: TxParams | any,\n    messenger: Messenger = defaultMessenger,\n    txStatus = TxStatus.INTIALIZED,\n  ) {\n    const fromAddress = params.from;\n    const toAddress = params.to;\n    const fromExtraction =\n      fromAddress !== undefined ? fromAddress.split(AddressSuffix) : ['0x', undefined];\n    const toExtraction =\n      toAddress !== undefined ? toAddress.split(AddressSuffix) : ['0x', undefined];\n    const from = fromExtraction[0];\n    const shardID =\n      fromExtraction[1] !== undefined\n        ? Number.parseInt(fromExtraction[1], 10)\n        : params.shardID !== undefined\n        ? params.shardID\n        : 0;\n    const to = toExtraction[0];\n    const toShardID =\n      toExtraction[1] !== undefined\n        ? Number.parseInt(toExtraction[1], 10)\n        : params.toShardID !== undefined\n        ? params.toShardID\n        : 0;\n\n    const reParams = {\n      ...params,\n      from,\n      to,\n      shardID,\n      toShardID,\n    };\n\n    super(reParams, messenger, txStatus);\n  }\n}\n","/**\n * ## hhahaha\n *\n * @packageDocumentation\n * @module harmony-transaction\n */\n\nimport { getContractAddress, getAddress } from '@harmony-js/crypto';\nimport { Messenger } from '@harmony-js/network';\nimport { Transaction } from './transaction';\nimport { ShardingTransaction } from './shardingTransaction';\nimport { TxParams, TxStatus } from './types';\n\nexport class TransactionFactory {\n  static getContractAddress(tx: Transaction) {\n    const { from, nonce } = tx.txParams;\n    return getAddress(\n      getContractAddress(getAddress(from).checksum, Number.parseInt(`${nonce}`, 10)),\n    ).checksum;\n  }\n\n  messenger: Messenger;\n  constructor(messenger: Messenger) {\n    this.messenger = messenger;\n  }\n  setMessenger(messenger: Messenger) {\n    this.messenger = messenger;\n  }\n\n  /**\n   * Create a new Transaction\n   * @params\n   * ```\n   * // to: Address of the receiver\n   * // value: value transferred in wei\n   * // gasLimit: the maximum gas would pay, can use string\n   * // shardID: send token from shardID\n   * // toShardId: send token to shardID\n   * // gasPrice: you can use Unit class, and use Gwei, then remember to use toWei(), which will be transformed to BN\n   * ```\n   *\n   * @example\n   * ```javascript\n   * const txn = hmy.transactions.newTx({\n   *   to: 'one166axnkjmghkf3df7xfvd0hn4dft8kemrza4cd2',\n   *   value: '10000',\n   *   gasLimit: '210000',\n   *   shardID: 0,\n   *   toShardID: 0,\n   *   gasPrice: new hmy.utils.Unit('100').asGwei().toWei(),\n   * });\n   * ```\n   */\n  newTx(txParams?: TxParams | any, sharding: boolean = false): Transaction {\n    if (!sharding) {\n      return new Transaction(txParams, this.messenger, TxStatus.INTIALIZED);\n    }\n    return new ShardingTransaction(txParams, this.messenger, TxStatus.INTIALIZED);\n  }\n\n  /**\n   * clone the transaction\n   *\n   * @param transaction\n   *\n   * @example\n   * ```javascript\n   * const cloneTxn = hmy.transactions.clone(txn);\n   * console.log(cloneTxn)\n   * ```\n   */\n  clone(transaction: Transaction): Transaction {\n    return new Transaction(transaction.txParams, this.messenger, TxStatus.INTIALIZED);\n  }\n\n  /**\n   *\n   * @example\n   * ```javascript\n   * txHash = '0xf8698085174876e8008252088080949d72989b68777a1f3ffd6f1db079f1928373ee52830186a08027a0ab8229ff5d5240948098f26372eaed9ab2e9be23e8594b08e358ca56a47f8ae9a0084e5c4d1fec496af444423d8a714f65c079260ff01a1be1de7005dd424adf44'\n   *\n   * const recoverTx = hmy.transactions.recover(txHash);\n   * console.log(recoverTx);\n   * ```\n   */\n  recover(txHash: string): Transaction {\n    const newTxn = new Transaction({}, this.messenger, TxStatus.INTIALIZED);\n    newTxn.recover(txHash);\n    return newTxn;\n  }\n}\n","/**\n * ## About this package\n *\n * `@harmony-js/transaction` provides the functions to build transactions\n *\n * Develop can use this package to:\n * - build a transaction offline!\n * - set params of transaction\n * -\n *\n * ## How to use this package\n * ### Step 1: create a Harmony Instance\n * ```javascript\n * const { Harmony } = require('@harmony-js/core');\n * const { ChainID, ChainType } = require('@harmony-js/utils');\n * const { BN } = require('@harmony-js/crypto');\n *\n * const hmy = new Harmony(\n *   'http://localhost:9500',\n *   {\n *     chainType: ChainType.Harmony,\n *     chainId: ChainID.HmyLocal,\n *   },\n * );\n * ```\n *\n * ### Step 2: build a transaction\n * ```javascript\n * const txn = hmy.transactions.newTx({\n *   to: 'one166axnkjmghkf3df7xfvd0hn4dft8kemrza4cd2',\n *   value: '10000',\n *   gasLimit: '210000',\n *   shardID: 0,\n *   toShardID: 0,\n *   gasPrice: new hmy.utils.Unit('100').asGwei().toWei(),\n * });\n * ```\n *\n * ## some important information\n * Transaction Parameters\n * ```java\n * // interface TxParams\n * id:               string;\n * from:             string;\n * to:               string;\n * nonce:            number | string;\n * gasLimit:         number | string | BN;\n * gasPrice:         number | string | BN;\n * shardID:          number | string;\n * toShardID:        number | string;\n * data:             string;\n * value:            number | string | BN;\n * chainId:          number;\n * rawTransaction:   string;\n * unsignedRawTransaction: string;\n * signature:        Signature;\n * receipt?:         TransasctionReceipt;\n * ```\n *\n * Transaction Receipt\n * ```java\n * // interface TransasctionReceipt\n * transactionHash:   string;\n * transactionIndex:  string;\n * blockHash:         string;\n * blockNumber:       string; // 11\n * from:              string;\n * to:                string;\n * gasUsed:           string;\n * cumulativeGasUsed: string; // 13244\n * contractAddress?:  string | null; // or null, if none was created\n * logs:              any[];\n * logsBloom:         string; // 256 byte bloom filter\n * v:                 string;\n * r:                 string;\n * s:                 string;\n * responseType?:     string;\n * byzantium?:        boolean;\n * status?:           string; // post Byzantium will return `0x0` or `0x1`\n * root?:             string; // pre Byzantium will return `root`\n * ```\n *\n * @packageDocumentation\n * @module harmony-transaction\n */\n\nimport { BN, Signature } from '@harmony-js/crypto';\n\nexport interface TxParams {\n  id: string;\n  from: string;\n  to: string;\n  nonce: number | string;\n  gasLimit: number | string | BN;\n  gasPrice: number | string | BN;\n  shardID: number | string;\n  toShardID: number | string;\n  data: string;\n  value: number | string | BN;\n  chainId: number;\n  rawTransaction: string;\n  unsignedRawTransaction: string;\n  signature: Signature;\n  receipt?: TransasctionReceipt;\n}\n\nexport const enum TxStatus {\n  NONE = 'NONE',\n  INTIALIZED = 'INITIALIZED',\n  SIGNED = 'SIGNED',\n  PENDING = 'PENDING',\n  CONFIRMED = 'CONFIRMED',\n  REJECTED = 'REJECTED',\n}\n\nexport interface TransasctionReceipt {\n  transactionHash: string;\n  transactionIndex: string;\n  blockHash: string;\n  blockNumber: string; // 11\n  from: string;\n  to: string;\n  gasUsed: string;\n  cumulativeGasUsed: string; // 13244\n  contractAddress?: string | null; // or null, if none was created\n  logs: any[];\n  logsBloom: string; // 256 byte bloom filter\n  v: string;\n  r: string;\n  s: string;\n  responseType?: string;\n  byzantium?: boolean;\n  status?: string; // post Byzantium will return `0x0` or `0x1`\n  root?: string; // pre Byzantium will return `root`\n}\n","/**\n * @packageDocumentation\n * @module harmony-transaction\n * @hidden\n */\n\nimport { Messenger } from '@harmony-js/network';\nimport { TxStatus } from './types';\n\nexport abstract class AbstractTransaction {\n  abstract setMessenger(messenger: Messenger): void;\n  abstract setTxStatus(txStatus: TxStatus): void;\n  abstract getTxStatus(): TxStatus;\n  abstract isInitialized(): boolean;\n  abstract isSigned(): boolean;\n  abstract isPending(): boolean;\n  abstract isRejected(): boolean;\n  abstract isConfirmed(): boolean;\n  abstract async trackTx(txHash: string, shardID: number | string): Promise<boolean>;\n  abstract async txConfirm(\n    txHash: string,\n    maxAttempts: number | undefined,\n    interval: number | undefined,\n    shardID: string | number,\n  ): Promise<any>;\n  abstract async socketConfirm(\n    txHash: string,\n    maxAttempts: number,\n    shardID: number | string,\n  ): Promise<any>;\n  abstract async getBlockNumber(shardID: number | string): Promise<any>;\n  abstract async getBlockByNumber(blockNumber: string): Promise<any>;\n}\n","/**\n * @packageDocumentation\n * @module harmony-transaction\n * @hidden\n */\n\nexport * from './factory';\nexport * from './transaction';\nexport * from './shardingTransaction';\nexport * from './types';\nexport * from './utils';\nexport * from './transactionBase';\nexport * from './abstractTransaction';\n"],"names":["isHex","hexToNumber","isAddress","decode","BN","strip0x","getAddress","hexZeroPad","hexlify","keccak256","encode","recoverAddress","TransactionEvents","Messenger","HttpProvider","sign","Emitter","HarmonyAddress","NewHeaders","Unit","arrayify","add0xToString","stripZeros","splitSignature","numberToHex","AddressSuffix","getContractAddress","TxStatus"],"mappings":"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"}