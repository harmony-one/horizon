{"version":3,"file":"index.esm.js","sources":["../src/validators.ts","../../../node_modules/tslib/tslib.es6.js","../src/transformers.ts","../src/utils.ts","../src/chain.ts","../src/tools.ts","../src/index.ts"],"sourcesContent":["/**\n * @packageDocumentation\n * @module harmony-utils\n */\n\nexport const isKeyString = (keyString: string, lengh: number): boolean => {\n  return !!keyString.replace('0x', '').match(`^[0-9a-fA-F]{${lengh}}$`);\n};\nisKeyString.validator = 'isKeyString';\n\nexport const isAddress = (address: string): boolean => {\n  return isKeyString(address, 40);\n};\nisAddress.validator = 'isAddress';\n\nexport const isPrivateKey = (privateKey: string): boolean => {\n  return isKeyString(privateKey, 64);\n};\nisPrivateKey.validator = 'isPrivateKey';\n\nexport const isPublicKey = (publicKey: string): boolean => {\n  return isKeyString(publicKey, 66);\n};\nisPublicKey.validator = 'isPublicKey';\n\nexport const isHash = (hash: string): boolean => {\n  return isKeyString(hash, 64);\n};\nisHash.validator = 'isHash';\n\n/**\n * [isNumber verify param is a Number]\n * @param  {any}  obj [value]\n * @return {Boolean}     [boolean]\n */\nexport const isNumber = (obj: any): boolean => {\n  return obj === +obj;\n};\nisNumber.validator = 'isNumber';\n\n/**\n * [isNumber verify param is a Number]\n * @param  {any}  obj [value]\n * @return {boolean}     [boolean]\n */\nexport const isInt = (obj: any): boolean => {\n  return isNumber(obj) && Number.isInteger(obj);\n};\n\nisInt.validator = 'isInt';\n\n/**\n * [isString verify param is a String]\n * @param  {any}  obj [value]\n * @return {Boolean}     [boolean]\n */\nexport const isString = (obj: any): boolean => {\n  return obj === `${obj}`;\n};\n\nisString.validator = 'isString';\n/**\n * [isBoolean verify param is a Boolean]\n * @param  {any}  obj [value]\n * @return {Boolean}     [boolean]\n */\nexport const isBoolean = (obj: any): boolean => {\n  return obj === !!obj;\n};\n\nisBoolean.validator = 'isBoolean';\n/**\n * [isArray verify param input is an Array]\n * @param  {any}  obj [value]\n * @return {Boolean}     [boolean]\n */\nexport const isArray = (obj: any): boolean => {\n  return Array.isArray(obj);\n};\n\nisArray.validator = 'isArray';\n/**\n * [isJson verify param input is a Json]\n * @param  {any}  obj [value]\n * @return {Boolean}     [boolean]\n */\nexport const isJsonString = (obj: any): boolean => {\n  try {\n    return !!JSON.parse(obj) && isObject(JSON.parse(obj));\n  } catch (e) {\n    return false;\n  }\n};\nisJsonString.validator = 'isJsonString';\n\n/**\n * [isObject verify param is an Object]\n * @param  {any}  obj [value]\n * @return {Boolean}     [boolean]\n */\nexport const isObject = (obj: any): boolean => {\n  return obj !== null && !Array.isArray(obj) && typeof obj === 'object';\n};\nisObject.validator = 'isObject';\n\n/**\n * [isFunction verify param is a Function]\n * @param  {any}  obj [value]\n * @return {Boolean}     [description]\n */\n\nexport const isFunction = (obj: any): boolean => {\n  return typeof obj === 'function';\n};\nisFunction.validator = 'isFunction';\n\nexport const isHex = (obj: any): boolean => {\n  if (!isString(obj)) {\n    throw new Error(`${obj} is not string`);\n  }\n  return (\n    (obj.startsWith('0x') || obj.startsWith('-0x')) &&\n    isNumber(Number.parseInt(`${obj}`.toLowerCase().replace('0x', ''), 16))\n  );\n};\n\nisHex.validator = 'isHex';\n\nexport const isHttp = (obj: any): boolean => {\n  if (!isString(obj)) {\n    throw new Error(`${obj} is not valid url`);\n  } else {\n    return obj.startsWith('http://') || obj.startsWith('https://');\n  }\n};\nisHttp.validator = 'isHttp';\n\nexport const isWs = (obj: any): boolean => {\n  if (!isString(obj)) {\n    throw new Error(`${obj} is not valid url`);\n  } else {\n    return obj.startsWith('ws://') || obj.startsWith('wss://');\n  }\n};\nisWs.validator = 'isWs';\n\nexport const enum DefaultBlockParams {\n  earliest = 'earliest',\n  pending = 'pending',\n  latest = 'latest',\n}\n\nexport const isBlockNumber = (obj: any): boolean => {\n  const blockParams = [\n    DefaultBlockParams.earliest,\n    DefaultBlockParams.pending,\n    DefaultBlockParams.latest,\n  ];\n\n  if (!isString(obj)) {\n    throw new Error(`${obj} is not valid blockNumber`);\n  }\n\n  return isHex(obj) || blockParams.some((val) => val === obj);\n};\nisBlockNumber.validator = 'isBlockNumber';\n\nexport const isBech32Address = (raw: string): boolean => {\n  return !!raw.match(/^one1[qpzry9x8gf2tvdw0s3jn54khce6mua7l]{38}/);\n};\nisBech32Address.validator = 'isBech32Address';\n\nexport const isBech32TestNetAddress = (raw: string): boolean => {\n  return !!raw.match(/^tone1[qpzry9x8gf2tvdw0s3jn54khce6mua7l]{38}/);\n};\nisBech32TestNetAddress.validator = 'isBech32TestNetAddress';\n\nexport const isValidAddress = (address: string): boolean => {\n  if (!isString(address)) {\n    throw new Error(`${address} is not string`);\n  }\n  if (isAddress(address) || isBech32Address(address) || isBech32TestNetAddress(address)) {\n    return true;\n  } else {\n    return false;\n  }\n};\nisValidAddress.validator = 'isValidAddress';\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","/**\n * @packageDocumentation\n * @module harmony-utils\n */\n\nimport BN from 'bn.js';\nimport { isString, isNumber, isHex } from './validators';\n\nexport const enum Units {\n  wei = 'wei',\n  Kwei = 'Kwei',\n  Mwei = 'Mwei',\n  Gwei = 'Gwei',\n  szabo = 'szabo',\n  finney = 'finney',\n  ether = 'ether',\n  one = 'one',\n  Kether = 'Kether',\n  Mether = 'Mether',\n  Gether = 'Gether',\n  Tether = 'Tether',\n}\n\n/** @hidden */\nexport const unitMap = new Map([\n  [Units.wei, '1'],\n  [Units.Kwei, '1000'], // 1e3 wei\n  [Units.Mwei, '1000000'], // 1e6 wei\n  [Units.Gwei, '1000000000'], // 1e9 wei\n  [Units.szabo, '1000000000000'], // 1e12 wei\n  [Units.finney, '1000000000000000'], // 1e15 wei\n  [Units.ether, '1000000000000000000'], // 1e18 wei\n  [Units.one, '1000000000000000000'], // 1e18 wei\n  [Units.Kether, '1000000000000000000000'], // 1e21 wei\n  [Units.Mether, '1000000000000000000000000'], // 1e24 wei\n  [Units.Gether, '1000000000000000000000000000'], // 1e27 wei\n  [Units.Tether, '1000000000000000000000000000000'], // 1e30 wei\n]);\n\n/** @hidden */\nconst DEFAULT_OPTIONS = {\n  pad: false,\n};\n\n/**\n * Convert Number to String\n */\nexport const numberToString = (obj: BN | number | string, radix: number = 10): string => {\n  if (BN.isBN(obj)) {\n    return obj.toString(radix);\n  } else if (isNumber(obj)) {\n    return new BN(obj).toString(radix);\n  } else if (isString(obj) && isNumber(Number(obj))) {\n    return new BN(obj).toString(radix);\n  } else {\n    throw new Error(`cannot parse number:${obj} to string`);\n  }\n};\n\n/**\n * Convert Number to String\n */\nexport const numToStr = (input: any) => {\n  if (typeof input === 'string') {\n    if (!input.match(/^-?[0-9.]+$/)) {\n      throw new Error(\n        `while converting number to string, invalid number value '${input}', should be a number matching (^-?[0-9.]+).`,\n      );\n    }\n    return input;\n  } else if (typeof input === 'number') {\n    return String(input);\n  } else if (BN.isBN(input)) {\n    return input.toString(10);\n  }\n\n  throw new Error(\n    `while converting number to string, invalid number value '${input}' type ${typeof input}.`,\n  );\n};\n\nexport const add0xToString = (obj: string): string => {\n  if (isString(obj) && !obj.startsWith('-')) {\n    return '0x' + obj.replace('0x', '');\n  } else if (isString(obj) && obj.startsWith('-')) {\n    return '-0x' + obj.replace('-', '');\n  } else {\n    throw new Error(`${obj} is not String`);\n  }\n};\n\nexport const strip0x = (obj: string): string => {\n  return obj.toLowerCase().replace('0x', '');\n};\n\n/**\n * Convert number to hex\n */\nexport const numberToHex = (obj: any): string => {\n  try {\n    return add0xToString(numberToString(obj, 16));\n  } catch (error) {\n    throw error;\n  }\n};\n\n/**\n * Convert hex to Decimal number\n */\nexport const hexToNumber = (hex: string): string => {\n  if (isHex(hex) && hex[0] !== '-') {\n    return new BN(strip0x(hex), 'hex').toString();\n  } else if (isHex(hex) && hex[0] === '-') {\n    const result: BN = new BN(hex.substring(3), 16);\n    return result.mul(new BN(-1)).toString();\n  } else {\n    throw new Error(`${hex} is not hex number`);\n  }\n};\n\n/**\n * Convert hex to Big Number\n */\nexport const hexToBN = (hex: string): BN => {\n  if (isHex(hex) && hex[0] !== '-') {\n    return new BN(strip0x(hex), 'hex');\n  } else if (isHex(hex) && hex[0] === '-') {\n    const result: BN = new BN(hex.substring(3), 16);\n    return result.mul(new BN(-1));\n  } else {\n    throw new Error(`${hex} is not hex number`);\n  }\n};\n\n/**\n * Converts any ONE value into wei\n */\nexport const toWei = (input: BN | string, unit: Units): BN => {\n  try {\n    let inputStr = numToStr(input);\n    const baseStr = unitMap.get(unit);\n\n    if (!baseStr) {\n      throw new Error(`No unit of type ${unit} exists.`);\n    }\n\n    const baseNumDecimals = baseStr.length - 1;\n    const base = new BN(baseStr, 10);\n\n    // Is it negative?\n    const isNegative = inputStr.substring(0, 1) === '-';\n    if (isNegative) {\n      inputStr = inputStr.substring(1);\n    }\n\n    if (inputStr === '.') {\n      throw new Error(`Cannot convert ${inputStr} to wei.`);\n    }\n\n    // Split it into a whole and fractional part\n    const comps = inputStr.split('.'); // eslint-disable-line\n    if (comps.length > 2) {\n      throw new Error(`Cannot convert ${inputStr} to wei.`);\n    }\n\n    let [whole, fraction] = comps;\n\n    if (!whole) {\n      whole = '0';\n    }\n    if (!fraction) {\n      fraction = '0';\n    }\n    if (fraction.length > baseNumDecimals) {\n      throw new Error(`Cannot convert ${inputStr} to wei.`);\n    }\n\n    while (fraction.length < baseNumDecimals) {\n      fraction += '0';\n    }\n\n    const wholeBN = new BN(whole);\n    const fractionBN = new BN(fraction);\n    let wei = wholeBN.mul(base).add(fractionBN);\n\n    if (isNegative) {\n      wei = wei.neg();\n    }\n\n    return new BN(wei.toString(10), 10);\n  } catch (error) {\n    throw error;\n  }\n};\n\n/**\n * Converts any wei value into a ONE value.\n */\nexport const fromWei = (wei: BN | string, unit: Units, options: any = DEFAULT_OPTIONS): string => {\n  try {\n    const weiBN: BN = !BN.isBN(wei) ? new BN(wei) : wei;\n\n    if (unit === 'wei') {\n      return weiBN.toString(10);\n    }\n\n    const baseStr = unitMap.get(unit);\n\n    if (!baseStr) {\n      throw new Error(`No unit of type ${unit} exists.`);\n    }\n\n    const base = new BN(baseStr, 10);\n    const baseNumDecimals = baseStr.length - 1;\n\n    let fraction = weiBN\n      .abs()\n      .mod(base)\n      .toString(10);\n\n    // prepend 0s to the fraction half\n    while (fraction.length < baseNumDecimals) {\n      fraction = `0${fraction}`;\n    }\n\n    if (!options.pad) {\n      /* eslint-disable prefer-destructuring */\n      const matchFraction = fraction.match(/^([0-9]*[1-9]|0)(0*)/);\n      fraction = matchFraction ? matchFraction[1] : '0';\n    }\n\n    const whole = weiBN.div(base).toString(10);\n\n    return fraction === '0' ? `${whole}` : `${whole}.${fraction}`;\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport class Unit {\n  static from(str: BN | string) {\n    return new Unit(str);\n  }\n\n  static Wei(str: BN | string) {\n    return new Unit(str).asWei();\n  }\n  static Kwei(str: BN | string) {\n    return new Unit(str).asKwei();\n  }\n  static Mwei(str: BN | string) {\n    return new Unit(str).asMwei();\n  }\n  static Gwei(str: BN | string) {\n    return new Unit(str).asGwei();\n  }\n  static Szabo(str: BN | string) {\n    return new Unit(str).asSzabo();\n  }\n  static Finney(str: BN | string) {\n    return new Unit(str).asFinney();\n  }\n  static Ether(str: BN | string) {\n    return new Unit(str).asEther();\n  }\n  static One(str: BN | string) {\n    return new Unit(str).asOne();\n  }\n  static Kether(str: BN | string) {\n    return new Unit(str).asKether();\n  }\n  static Mether(str: BN | string) {\n    return new Unit(str).asMether();\n  }\n  static Gether(str: BN | string) {\n    return new Unit(str).asGether();\n  }\n  static Tether(str: BN | string) {\n    return new Unit(str).asTether();\n  }\n\n  wei: BN;\n  unit: BN | string;\n\n  constructor(str: BN | string | number) {\n    if (!BN.isBN(str) && typeof str !== 'number' && isHex(str)) {\n      this.unit = hexToNumber(str);\n    } else if (!BN.isBN(str) && typeof str === 'number') {\n      this.unit = str.toString();\n    } else if (str === '0x') {\n      this.unit = hexToNumber('0x0');\n    } else {\n      this.unit = str;\n    }\n\n    this.wei = new BN(this.unit);\n  }\n\n  asWei() {\n    this.wei = new BN(this.unit);\n    return this;\n  }\n  asKwei() {\n    this.wei = toWei(this.unit, Units.Kwei);\n    return this;\n  }\n  asMwei() {\n    this.wei = toWei(this.unit, Units.Mwei);\n    return this;\n  }\n  asGwei() {\n    this.wei = toWei(this.unit, Units.Gwei);\n    return this;\n  }\n  asSzabo() {\n    this.wei = toWei(this.unit, Units.szabo);\n    return this;\n  }\n  asFinney() {\n    this.wei = toWei(this.unit, Units.finney);\n    return this;\n  }\n  asEther() {\n    this.wei = toWei(this.unit, Units.ether);\n    return this;\n  }\n  asOne() {\n    this.wei = toWei(this.unit, Units.one);\n    return this;\n  }\n  asKether() {\n    this.wei = toWei(this.unit, Units.Kether);\n    return this;\n  }\n  asMether() {\n    this.wei = toWei(this.unit, Units.Mether);\n    return this;\n  }\n  asGether() {\n    this.wei = toWei(this.unit, Units.Gether);\n    return this;\n  }\n  asTether() {\n    this.wei = toWei(this.unit, Units.Tether);\n    return this;\n  }\n\n  toWei() {\n    if (this.wei) {\n      return this.wei;\n    } else {\n      throw new Error('error transforming');\n    }\n  }\n\n  toKwei() {\n    if (this.wei) {\n      return fromWei(this.wei, Units.Kwei);\n    } else {\n      throw new Error('error transforming');\n    }\n  }\n  toGwei() {\n    if (this.wei) {\n      return fromWei(this.wei, Units.Gwei);\n    } else {\n      throw new Error('error transforming');\n    }\n  }\n  toMwei() {\n    if (this.wei) {\n      return fromWei(this.wei, Units.Mwei);\n    } else {\n      throw new Error('error transforming');\n    }\n  }\n  toSzabo() {\n    if (this.wei) {\n      return fromWei(this.wei, Units.szabo);\n    } else {\n      throw new Error('error transforming');\n    }\n  }\n  toFinney() {\n    if (this.wei) {\n      return fromWei(this.wei, Units.finney);\n    } else {\n      throw new Error('error transforming');\n    }\n  }\n  toEther() {\n    if (this.wei) {\n      return fromWei(this.wei, Units.ether);\n    } else {\n      throw new Error('error transforming');\n    }\n  }\n  toOne() {\n    if (this.wei) {\n      return fromWei(this.wei, Units.one);\n    } else {\n      throw new Error('error transforming');\n    }\n  }\n  toKether() {\n    if (this.wei) {\n      return fromWei(this.wei, Units.Kether);\n    } else {\n      throw new Error('error transforming');\n    }\n  }\n  toMether() {\n    if (this.wei) {\n      return fromWei(this.wei, Units.Mether);\n    } else {\n      throw new Error('error transforming');\n    }\n  }\n  toGether() {\n    if (this.wei) {\n      return fromWei(this.wei, Units.Gether);\n    } else {\n      throw new Error('error transforming');\n    }\n  }\n  toTether() {\n    if (this.wei) {\n      return fromWei(this.wei, Units.Tether);\n    } else {\n      throw new Error('error transforming');\n    }\n  }\n\n  toWeiString() {\n    if (this.wei) {\n      return this.wei.toString();\n    } else {\n      throw new Error('error transforming');\n    }\n  }\n  toHex() {\n    if (this.wei) {\n      return numberToHex(this.wei);\n    } else {\n      throw new Error('error transforming');\n    }\n  }\n}\n","/**\n * @packageDocumentation\n * @module harmony-utils\n */\n\nimport {\n  isNumber,\n  isString,\n  isBoolean,\n  isArray,\n  isJsonString,\n  isHex,\n  isObject,\n  isFunction,\n  isPublicKey,\n  isPrivateKey,\n  isAddress,\n  isBech32Address,\n  isBech32TestNetAddress,\n  isValidAddress,\n  isHash,\n  isBlockNumber,\n} from './validators';\n\n/** @hidden */\nexport const enum AssertType {\n  required = 'required',\n  optional = 'optional',\n}\n\n/** @hidden */\nexport const validatorArray: any = {\n  isNumber: [isNumber],\n  isString: [isString],\n  isBoolean: [isBoolean],\n  isArray: [isArray],\n  isJsonString: [isJsonString],\n  isObject: [isObject],\n  isFunction: [isFunction],\n  isHex: [isHex],\n  isPublicKey: [isPublicKey],\n  isPrivateKey: [isPrivateKey],\n  isAddress: [isAddress],\n  isHash: [isHash],\n  isBlockNumber: [isBlockNumber],\n  isBech32Address: [isBech32Address],\n  isBech32TestNetAddress: [isBech32TestNetAddress],\n  isValidAddress: [isValidAddress],\n};\n\nexport function validateArgs(args: any, requiredArgs: any, optionalArgs: any): boolean {\n  for (const key in requiredArgs) {\n    if (args[key] !== undefined) {\n      // tslint:disable-next-line: prefer-for-of\n      for (let i = 0; i < requiredArgs[key].length; i += 1) {\n        if (typeof requiredArgs[key][i] !== 'function') {\n          throw new Error('Validator is not a function');\n        }\n\n        if (!requiredArgs[key][i](args[key])) {\n          throw new Error(\n            `Validation failed for ${key},should be validated by ${requiredArgs[key][i].validator}`,\n          );\n        }\n      }\n    } else {\n      throw new Error(`Key not found: ${key}`);\n    }\n  }\n\n  for (const key in optionalArgs) {\n    if (args[key]) {\n      // tslint:disable-next-line: prefer-for-of\n      for (let i = 0; i < optionalArgs[key].length; i += 1) {\n        if (typeof optionalArgs[key][i] !== 'function') {\n          throw new Error('Validator is not a function');\n        }\n\n        if (!optionalArgs[key][i](args[key])) {\n          throw new Error(\n            `Validation failed for ${key},should be validated by ${optionalArgs[key][i].validator}`,\n          );\n        }\n      }\n    }\n  }\n  return true;\n}\n\nexport function generateValidateObjects(validatorObject: { [x: string]: any[] }) {\n  const requiredArgs: any = {};\n  const optionalArgs: any = {};\n  for (const index in validatorObject) {\n    if (index !== undefined) {\n      const newObjectKey = index;\n      const newObjectValid = validatorObject[index][0];\n      const isRequired = validatorObject[index][1];\n      if (isRequired === AssertType.required) {\n        requiredArgs[newObjectKey] = validatorArray[newObjectValid];\n      } else {\n        optionalArgs[newObjectKey] = validatorArray[newObjectValid];\n      }\n    }\n  }\n  return { requiredArgs, optionalArgs };\n}\n\nconst assertObject = (input: any) => (target: any, key: any, descriptor: PropertyDescriptor) => {\n  const { requiredArgs, optionalArgs } = generateValidateObjects(input);\n  const original = descriptor.value;\n  function interceptor(this: any, ...args: any[]) {\n    validateArgs(args[0], requiredArgs, optionalArgs);\n    return original.apply(this, args);\n  }\n  descriptor.value = interceptor;\n  return descriptor;\n};\n\nexport { assertObject };\n","/**\n * ## About this package\n * \n * `@harmony-js/util` provides utility functions for Harmony dapps and other `harmony-js` packages\n * \n * Develop can use this package to:\n * - Transform the unit of token (fromWei, toWei...)\n * - Convert variable to different type (hexToBN, numberToHex...)\n * - Check validators information (isAddress, isPublicKey, isBlockNumber...)\n * \n * ## How to use this package\n * \n * ### Step 1: create a Harmony Instance\n * ```javascript\n * const { Harmony } = require('@harmony-js/core');\n * const { ChainID, ChainType } = require('@harmony-js/utils');\n * const { BN } = require('@harmony-js/crypto');\n * \n * const hmy = new Harmony(\n *   'http://localhost:9500',\n *   {\n *     chainType: ChainType.Harmony,\n *     chainId: ChainID.HmyLocal,\n *   },\n * );\n * ```\n * \n * ### Step 2: Select and call functions\n * Here are some examples:\n * \n * ```javascript\n * // numberToString\n * const num = 123;\n * const str = hmy.utils.numberToString(num)\n * console.log(str);\n * \n * // add0xToString\n * const str = '12345';\n * const expected = hmy.utils.add0xToString(str)\n * console.log(expected);\n * \n * // fromWei\n * const Wei = new BN('1000000000000000000');\n * const expected = hmy.utils.fromWei(Wei, hmy.utils.Units.one);\n * console.log(expected);\n * \n * // toWei\n * const one = new BN('1');\n * const expected = hmy.utils.toWei(one, hmy.utils.Units.one);\n * const num = hmy.utils.numToStr(expected);\n * console.log(num);\n * ```\n * \n * ### Step 3: Using unit class to convet the token unit\n * ```javascript \n * // convert one to Gwei\n * const one = new hmy.utils.Unit('1').asOne();\n * const oneToGwei = one.toGwei();\n * console.log(oneToGwei);\n * ```\n * \n * ## Some Important consts and Enums \n * ### Chain Type\n * ```javascript\n * Harmony = 'hmy',\n * Ethereum = 'eth',\n * ```\n * \n * ### Chain ID\n * ```javascript\n * Default = 0,\n  EthMainnet = 1,\n  Morden = 2,\n  Ropsten = 3,\n  Rinkeby = 4,\n  RootstockMainnet = 30,\n  RootstockTestnet = 31,\n  Kovan = 42,\n  EtcMainnet = 61,\n  EtcTestnet = 62,\n  Geth = 1337,\n  Ganache = 0,\n  HmyMainnet = 1,\n  HmyTestnet = 2,\n  HmyLocal = 2,\n  HmyPangaea = 3,\n * ```\n * \n * ### Default Config\n * ```javascript\n * export const defaultConfig = {\n *   Default: {\n *     Chain_ID: ChainID.HmyLocal,\n *     Chain_Type: ChainType.Harmony,\n *     Chain_URL: 'http://localhost:9500',\n *     Network_ID: 'Local',\n * },\n *   DefaultWS: {\n *     Chain_ID: ChainID.HmyLocal,\n *     Chain_Type: ChainType.Harmony,\n *     Chain_URL: 'ws://localhost:9800',\n *     Network_ID: 'LocalWS',\n *   },\n * };\n * ```\n * \n * ### Unit Map\n * ```\n * [Units.wei, '1'], // 1 wei\n * [Units.Kwei, '1000'], // 1e3 wei\n * [Units.Mwei, '1000000'], // 1e6 wei\n * [Units.Gwei, '1000000000'], // 1e9 wei\n * [Units.szabo, '1000000000000'], // 1e12 wei\n * [Units.finney, '1000000000000000'], // 1e15 wei\n * [Units.ether, '1000000000000000000'], // 1e18 wei\n * [Units.one, '1000000000000000000'], // 1e18 wei\n * [Units.Kether, '1000000000000000000000'], // 1e21 wei\n * [Units.Mether, '1000000000000000000000000'], // 1e24 wei\n * [Units.Gether, '1000000000000000000000000000'], // 1e27 wei\n * [Units.Tether, '1000000000000000000000000000000'], // 1e30 wei\n * ```\n * \n * @packageDocumentation\n * @module harmony-utils\n */\n\nexport const enum ChainType {\n  Harmony = 'hmy',\n  Ethereum = 'eth',\n}\n\nexport const enum ChainID {\n  Default = 0,\n  EthMainnet = 1,\n  Morden = 2,\n  Ropsten = 3,\n  Rinkeby = 4,\n  RootstockMainnet = 30,\n  RootstockTestnet = 31,\n  Kovan = 42,\n  EtcMainnet = 61,\n  EtcTestnet = 62,\n  Geth = 1337,\n  Ganache = 0,\n  HmyMainnet = 1,\n  HmyTestnet = 2,\n  HmyLocal = 2,\n  HmyPangaea = 3,\n}\n\n/** @hidden */\nexport const defaultConfig = {\n  Default: {\n    Chain_ID: ChainID.HmyLocal,\n    Chain_Type: ChainType.Harmony,\n    Chain_URL: 'http://localhost:9500',\n    Network_ID: 'Local',\n  },\n  DefaultWS: {\n    Chain_ID: ChainID.HmyLocal,\n    Chain_Type: ChainType.Harmony,\n    Chain_URL: 'ws://localhost:9800',\n    Network_ID: 'LocalWS',\n  },\n};\n\n/** @hidden */\nexport abstract class HarmonyCore {\n  chainType: ChainType;\n  chainId: ChainID;\n  constructor(chainType: ChainType, chainId: ChainID = defaultConfig.Default.Chain_ID) {\n    this.chainType = chainType;\n    this.chainId = chainId;\n  }\n  get chainPrefix(): string {\n    switch (this.chainType) {\n      case ChainType.Ethereum: {\n        return 'eth';\n      }\n      case ChainType.Harmony: {\n        return 'hmy';\n      }\n      default: {\n        return 'hmy';\n      }\n    }\n  }\n  get getChainId(): ChainID {\n    return this.chainId;\n  }\n  public setChainId(chainId: ChainID) {\n    this.chainId = chainId;\n  }\n  public setChainType(chainType: ChainType) {\n    this.chainType = chainType;\n  }\n}\n\n/** @hidden */\nexport const HDPath = `m/44'/1023'/0'/0/`;\n\n/** @hidden */\nexport const AddressSuffix = '-';\n","/**\n * @packageDocumentation\n * @module harmony-utils\n * @hidden\n */\n\nexport function defineReadOnly(object: any, name: string, value: any): void {\n  Object.defineProperty(object, name, {\n    enumerable: true,\n    value,\n    writable: false,\n  });\n}\n","/**\n * @packageDocumentation\n * @module harmony-utils\n * @ignore\n */\n\nexport * from './validators';\nexport * from './transformers';\nexport * from './utils';\nexport * from './chain';\nexport * from './tools';\n"],"names":[],"mappings":"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"}